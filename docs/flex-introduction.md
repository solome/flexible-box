
# Flexible Box

>In the flexible box layout model, the children of a flex container can be laid out in any direction, and can “flex” their sizes, either growing to fill unused space or shrinking to avoid overflowing the parent. Both horizontal and vertical alignment of the children can be easily manipulated. Nesting of these boxes (horizontal inside vertical, or vertical inside horizontal) can be used to build layouts in two dimensions.  

[Overview](https://www.w3.org/TR/css-flexbox/)


## Introduction

[CSS 2.1](https://www.w3.org/TR/CSS21/) defined four layout modes — algorithms which determine the size and position of boxes based on their relationships with their sibling and ancestor boxes:

- **block layout**, designed for laying out documents
- **inline layout**, designed for laying out text
- **table layout**, designed for laying out 2D data in a tabular format
- **positioned layout**, designed for very explicit positioning without much regard for other elements in the document

This module introduces a new layout mode, flex layout, which is designed for laying out more complex applications and webpages.

### OverView
Flex layout is superficially similar to block layout. It lacks many of the more complex text- or document-centric properties that can be used in block layout, such as floats and columns. In return it gains simple and powerful tools for distributing space and aligning content in ways that web apps and complex web pages often need. The contents of a flex container:

- can be laid out in any flow direction (leftwards, rightwards, downwards, or even upwards!)
- can have their display order reversed or rearranged at the style layer (i.e., visual order can be independent of source and speech order)
- can be laid out linearly along a single (main) axis or wrapped into multiple lines along a secondary (cross) axis
- can “flex” their sizes to respond to the available space
- can be aligned with respect to their container or each other on the secondary (cross)
- can be dynamically collapsed or uncollapsed along the main axis while preserving the container’s cross size

<div class="example">
  <p>Here’s an example of a catalog where each item has a title, a photo, a description, and a purchase button. The designer’s intention is that each entry has the same overall size, that the photo be above the text, and that the purchase buttons aligned at the bottom, regardless of the length of the item’s description.</p>

  <iframe width="100%" height="660" src="//jsfiddle.net/juyipeng/j9q2ky7v/embedded/html,css,result/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>

### Module interactions

This module extends the definition of the display property [CSS21], adding a new block-level and new inline-level display type, and defining a new type of formatting context along with properties to control its layout. None of the properties defined in this module apply to the ::first-line or ::first-letter pseudo-elements.

## Flex Layout Box Model and Terminology

A flex container is the box generated by an element with a computed [display](https://www.w3.org/TR/CSS21/visuren.html#propdef-display) of [flex](https://www.w3.org/TR/css-flexbox/#valdef-display-flex) or [inline-flex](https://www.w3.org/TR/css-flexbox/#valdef-display-inline-flex). In-flow children of a flex container are called flex items and are laid out using the flex layout model.

可以通过设置`display`属性的值来将一个容器指定为Flexbox布局：

```css
.container {
  ...

  display: flex; /* 行内元素设置为 inline-flex */

  ...
}
```

><i class="fa fa-bell" style="color:#e99002"></i>
一旦将容器设置为Flexbox布局之后，子元素`float`、`clear`及`vertical-align`属性将失效。

采用Flex布局的元素，称为Flex容器（flex container），简称"容器"。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称"项目"。


### Basic Concept

Unlike block and inline layout, whose layout calculations are biased to the block and inline flow directions, flex layout is biased to the flex directions. To make it easier to talk about flex layout, this section defines a set of flex flow–relative terms. The flex-flow value and the writing mode determine how these terms map to physical directions (top/right/bottom/left), axes (vertical/horizontal), and sizes (width/height).

<figure>
  <img width="780" src="http://i.imgur.com/xqK4q6x.png" alt="An illustration of the various directions and sizing terms as applied to a row flex container." />
  <figcaption> An illustration of the various directions and sizing terms as applied to a row flex container.</figcaption>
</figure>

- **main axis** & **main dimension**  
The main axis of a flex container is the primary axis along which flex items are laid out. It extends in the main dimension.

- **main-start** & **main-end**  
The flex items are placed within the container starting on the main-start side and going toward the main-end side.

- **main size** & **main size property**  
A flex item’s width or height, whichever is in the main dimension, is the item’s main size. The flex item’s main size property is either the width or height property, whichever is in the main dimension.

- **cross axis** & **cross dimension**  
The axis perpendicular to the main axis is called the cross axis. It extends in the cross dimension.

- **cross-start** & **cross-end**  
Flex lines are filled with items and placed into the container starting on the cross-start side of the flex container and going toward the cross-end side.

- **cross size** & **corss size property**  
he width or height of a flex item, whichever is in the cross dimension, is the item’s cross size. The cross size property is whichever of width or height that is in the cross dimension.


Flex 容器默認存在兩根軸：從左往右水平方向的主軸（main axis）和從上往下豎直方向的交叉軸（cross axis）。

主軸開始的位置叫做 `main start`，結束的位置叫做 `main end`；交叉軸開始的位置叫做 `cross start`，結束的位置叫做 `cross end`。

Flex項目默認沿主軸方向排列。單個項目佔據的主軸空間叫做 `main size`，佔據的交叉軸空間叫做 `cross size`。


## Flex Containers: the flex and inline-flex display values

A flex container establishes a new flex formatting context for its contents. This is the same as establishing a block formatting context, except that flex layout is used instead of block layout. For example, floats do not intrude into the flex container, and the flex container’s margins do not collapse with the margins of its contents. Flex containers form a containing block for their contents exactly like block containers do. [CSS21] The overflow property applies to flex containers.

Flex containers are not block containers, and so some properties that were designed with the assumption of block layout don’t apply in the context of flex layout. In particular:

- the column-* properties in the Multi-column Layout module [CSS3COL] have no effect on a flex container.
- float and clear do not create floating or clearance of flex item, and do not take it out-of-flow.
- vertical-align has no effect on a flex item.
- the ::first-line and ::first-letter pseudo-elements do not apply to flex containers, and flex containers do not contribute a first formatted line or first letter to their ancestors.

If an element’s specified display is inline-flex, then its display property computes to flex in certain circumstances: the table in CSS 2.1 Section 9.7 is amended to contain an additional row, with inline-flex in the "Specified Value" column and flex in the "Computed Value" column.

## Flex Items
> see [flex items](./flex-items/).

### Absolutely-Positioned Flex Children

### Flex Item Margins and Paddings

### Flex Item Z-Ordering

### Collapsed Items

### Implied Minimum Size of Flex Items

## Ordering and Orientation

### Flex Flow Direction: the flex-direction property

### Flex Line Wrapping: the flex-wrap property

### Flex Direction and Wrap: the flex-flow shorthand

### Display Order: the order property

